"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7942],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>d});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),u=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=u(a),h=n,d=c["".concat(s,".").concat(h)]||c[h]||m[h]||i;return a?r.createElement(d,o(o({ref:t},p),{},{components:a})):r.createElement(d,o({ref:t},p))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:n,o[1]=l;for(var u=2;u<i;u++)o[u]=a[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"},40788:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>l,metadata:()=>u,toc:()=>c});var r=a(87462),n=a(63366),i=(a(67294),a(3905)),o=["components"],l={title:"1.29.0"},s=void 0,u={unversionedId:"release-notes/1.29.0",id:"release-notes/1.29.0",title:"1.29.0",description:"Long Term Support (LTS)",source:"@site/../docs/release-notes/1.29.0.md",sourceDirName:"release-notes",slug:"/release-notes/1.29.0",permalink:"/documentation/release-notes/1.29.0",draft:!1,editUrl:"https://github.com/rucio/documentation/tree/main/docs/../docs/release-notes/1.29.0.md",tags:[],version:"current",frontMatter:{title:"1.29.0"}},p={},c=[{value:"Long Term Support (LTS)",id:"long-term-support-lts",level:2},{value:"Upgrade Instructions",id:"upgrade-instructions",level:2},{value:"Important changes",id:"important-changes",level:2},{value:"General",id:"general",level:2},{value:"Features",id:"features",level:3},{value:"Enhancements",id:"enhancements",level:3},{value:"Bugs",id:"bugs",level:3},{value:"Clients",id:"clients",level:2},{value:"Features",id:"features-1",level:3},{value:"Bugs",id:"bugs-1",level:3},{value:"WebUI",id:"webui",level:2},{value:"Enhancements",id:"enhancements-1",level:3}],m={toc:c},h="wrapper";function d(e){var t=e.components,a=(0,n.Z)(e,o);return(0,i.kt)(h,(0,r.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"long-term-support-lts"},"Long Term Support (LTS)"),(0,i.kt)("p",null,"This release marks the start of the 1.29 ",(0,i.kt)("strong",{parentName:"p"},"Long Term Support (LTS)")," release line. This release line will be supported with security and critical patches until at least ",(0,i.kt)("strong",{parentName:"p"},"July 2024"),"."),(0,i.kt)("h2",{id:"upgrade-instructions"},"Upgrade Instructions"),(0,i.kt)("p",null,"This feature release requires a database schema upgrade. Please consult the ",(0,i.kt)("a",{parentName:"p",href:"https://rucio.cern.ch/documentation/database/"},"documentation")," about upgrading your database schema."),(0,i.kt)("p",null,"The following changes are necessary and are covered by the ",(0,i.kt)("inlineCode",{parentName:"p"},"alembic upgrade head")," command:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Introduction of the ",(0,i.kt)("inlineCode",{parentName:"p"},"availability_read"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"availability_write")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"availability_delete")," columns in ",(0,i.kt)("inlineCode",{parentName:"p"},"rses")," table. This will replace the ",(0,i.kt)("inlineCode",{parentName:"p"},"availability")," column in a later release. (Alembic revision ",(0,i.kt)("inlineCode",{parentName:"p"},"1677d4d803c8"),")")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Extend ",(0,i.kt)("inlineCode",{parentName:"p"},"refresh_token")," column in ",(0,i.kt)("inlineCode",{parentName:"p"},"tokens")," table. (Alembic revision ",(0,i.kt)("inlineCode",{parentName:"p"},"fa7a7d78b602"),")")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Drop ",(0,i.kt)("inlineCode",{parentName:"p"},"third_party_copy")," column in ",(0,i.kt)("inlineCode",{parentName:"p"},"rse_protocols")," table. (Alembic revision ",(0,i.kt)("inlineCode",{parentName:"p"},"d6e2c3b2cf26"),")")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Creation of several global temporary tables on Oracle. (Alembic revision ",(0,i.kt)("inlineCode",{parentName:"p"},"f41ffe206f37"),")")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Migration of RSE Settings (",(0,i.kt)("inlineCode",{parentName:"p"},"city"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"region_code"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"country_name"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"continent"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"time_zone"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"ISP"),") from ",(0,i.kt)("inlineCode",{parentName:"p"},"rses")," table to ",(0,i.kt)("inlineCode",{parentName:"p"},"rse_attr_map"),"; These columns will be dropped from ",(0,i.kt)("inlineCode",{parentName:"p"},"rses")," in a future release. (Alembic revision ",(0,i.kt)("inlineCode",{parentName:"p"},"2190e703eb6e"),")"))),(0,i.kt)("h2",{id:"important-changes"},"Important changes"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"This release drops the, long deprecated, DQ2 compatibility clients.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Full removal of Python 2.7 compatibility. If you require Python 2.7 compatibility on the clients side, please consider the Rucio 1.26 LTS release line which will still be supported until mid-2023."))),(0,i.kt)("h2",{id:"general"},"General"),(0,i.kt)("h3",{id:"features"},"Features"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Core & Internals: Passing scope to construct_surl() ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/4836"},"#4836")),(0,i.kt)("li",{parentName:"ul"},"Database: Further integration of temporary tables to other major workflows ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5441"},"#5441")),(0,i.kt)("li",{parentName:"ul"},"Documentation: Fix client API documentation page ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5444"},"#5444")),(0,i.kt)("li",{parentName:"ul"},"Messaging: Hermes 2 evolution ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/4610"},"#4610")),(0,i.kt)("li",{parentName:"ul"},"Release management: Removal of Python 2.7 dependencies from the code ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5435"},"#5435"))),(0,i.kt)("h3",{id:"enhancements"},"Enhancements"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Authentication & Authorisation: Replace deprecated ",(0,i.kt)("inlineCode",{parentName:"li"},"oauth2client")," dependency ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5343"},"#5343")),(0,i.kt)("li",{parentName:"ul"},"Core & Internals: Replace dependency ",(0,i.kt)("inlineCode",{parentName:"li"},"python-memcached")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5341"},"#5341")),(0,i.kt)("li",{parentName:"ul"},"Core & Internals: Calculation of container ",(0,i.kt)("inlineCode",{parentName:"li"},"length")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"events")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5422"},"#5422")),(0,i.kt)("li",{parentName:"ul"},"Core & Internals: Cannot update ",(0,i.kt)("inlineCode",{parentName:"li"},"continent")," attribute of RSE ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5464"},"#5464")),(0,i.kt)("li",{parentName:"ul"},"Core & Internals: rucio-admin rse update shows no error for unsupported options ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5491"},"#5491")),(0,i.kt)("li",{parentName:"ul"},"Database: Add poolclass configuration options for database engine ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5391"},"#5391")),(0,i.kt)("li",{parentName:"ul"},"Database: Add additional operators in metadata filter engine for Oracle ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5503"},"#5503")),(0,i.kt)("li",{parentName:"ul"},"Database: global temp table detection query is costly on oracle ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5714"},"#5714")),(0,i.kt)("li",{parentName:"ul"},"Documentation: Further OIDC and SSO optimization and documentation ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5437"},"#5437")),(0,i.kt)("li",{parentName:"ul"},"Metadata: Using plugin ALL or JSON returns DataIdentifierNotFound if json metadata is not set ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/4512"},"#4512")),(0,i.kt)("li",{parentName:"ul"},"Remove third_party_copy column ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5634"},"#5634")),(0,i.kt)("li",{parentName:"ul"},"Introduce a heartbeat handler to kronos ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5685"},"#5685")),(0,i.kt)("li",{parentName:"ul"},"Protocols: Remove legacy S3 protocols and libraries ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5346"},"#5346")),(0,i.kt)("li",{parentName:"ul"},"Protocols: Check before deleting with GFAL ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5622"},"#5622")),(0,i.kt)("li",{parentName:"ul"},"Recovery: Heartbeat handler for bad_replicas daemons ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5562"},"#5562")),(0,i.kt)("li",{parentName:"ul"},"Recovery: Create rules for suspicious replicas with only one declaration ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5591"},"#5591")),(0,i.kt)("li",{parentName:"ul"},"Testing: mypy static code analysis ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/4455"},"#4455"))),(0,i.kt)("h3",{id:"bugs"},"Bugs"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Cache detection code results in wrong logging level  ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5697"},"#5697")),(0,i.kt)("li",{parentName:"ul"},"global temporary tables not used on oracle ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5710"},"#5710")),(0,i.kt)("li",{parentName:"ul"},"Transfers: Logic error in FTS3 transfertool checksum validation strategy ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5670"},"#5670"))),(0,i.kt)("h2",{id:"clients"},"Clients"),(0,i.kt)("h3",{id:"features-1"},"Features"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Clients: Remove DQ2 Client ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5584"},"#5584"))),(0,i.kt)("h3",{id:"bugs-1"},"Bugs"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Clients: Config not found RuntimeError in version 1.29.0rc1 ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5704"},"#5704"))),(0,i.kt)("h2",{id:"webui"},"WebUI"),(0,i.kt)("h3",{id:"enhancements-1"},"Enhancements"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"WebUI: Make subscriptions page real-time ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/rucio/rucio/issues/5583"},"#5583"))))}d.isMDXComponent=!0}}]);