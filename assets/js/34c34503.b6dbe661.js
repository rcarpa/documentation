"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6747],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>b});var l=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n,l,r={},a=Object.keys(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=l.createContext({}),p=function(e){var t=l.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=p(e.components);return l.createElement(s.Provider,{value:t},e.children)},c="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},u=l.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=p(n),u=r,b=c["".concat(s,".").concat(u)]||c[u]||k[u]||a;return n?l.createElement(b,o(o({ref:t},d),{},{components:n})):l.createElement(b,o({ref:t},d))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var p=2;p<a;p++)o[p]=n[p];return l.createElement.apply(null,o)}return l.createElement.apply(null,n)}u.displayName="MDXCreateElement"},97574:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>b,frontMatter:()=>i,metadata:()=>p,toc:()=>c});var l=n(87462),r=n(63366),a=(n(67294),n(3905)),o=["components"],i={title:"ReplicaClient"},s=void 0,p={unversionedId:"client_api/replicaclient",id:"client_api/replicaclient",title:"ReplicaClient",description:"quarantine\\_replicas",source:"@site/../docs/client_api/replicaclient.md",sourceDirName:"client_api",slug:"/client_api/replicaclient",permalink:"/documentation/client_api/replicaclient",draft:!1,editUrl:"https://github.com/rucio/documentation/tree/main/docs/../docs/client_api/replicaclient.md",tags:[],version:"current",frontMatter:{title:"ReplicaClient"},sidebar:"docs",previous:{title:"PingClient",permalink:"/documentation/client_api/pingclient"},next:{title:"RequestClient",permalink:"/documentation/client_api/requestclient"}},d={},c=[{value:"quarantine_replicas",id:"quarantine_replicas",level:2},{value:"declare_bad_file_replicas",id:"declare_bad_file_replicas",level:2},{value:"declare_bad_did_replicas",id:"declare_bad_did_replicas",level:2},{value:"declare_suspicious_file_replicas",id:"declare_suspicious_file_replicas",level:2},{value:"get_did_from_pfns",id:"get_did_from_pfns",level:2},{value:"list_replicas",id:"list_replicas",level:2},{value:"list_suspicious_replicas",id:"list_suspicious_replicas",level:2},{value:"add_replica",id:"add_replica",level:2},{value:"add_replicas",id:"add_replicas",level:2},{value:"delete_replicas",id:"delete_replicas",level:2},{value:"update_replicas_states",id:"update_replicas_states",level:2},{value:"list_dataset_replicas",id:"list_dataset_replicas",level:2},{value:"list_dataset_replicas_bulk",id:"list_dataset_replicas_bulk",level:2},{value:"list_dataset_replicas_vp",id:"list_dataset_replicas_vp",level:2},{value:"list_datasets_per_rse",id:"list_datasets_per_rse",level:2},{value:"add_bad_pfns",id:"add_bad_pfns",level:2},{value:"set_tombstone",id:"set_tombstone",level:2}],k={toc:c},u="wrapper";function b(e){var t=e.components,n=(0,r.Z)(e,o);return(0,a.kt)(u,(0,l.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"quarantine_replicas"},"quarantine","_","replicas"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"Add quaratined replicas for RSE."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"replicas"),": List of replica infos: {'scope': \\<scope",">"," (optional), 'name': \\<name",">"," (optional), 'path':\\<path",">"," (required)}."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rse"),": RSE name."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rse_id"),": RSE id. Either RSE name or RSE id must be specified, but not both")))))),(0,a.kt)("h2",{id:"declare_bad_file_replicas"},"declare","_","bad","_","file","_","replicas"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"Declare a list of bad replicas."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"replicas"),": Either a list of PFNs (string) or a list of dicts {'scope': \\<scope",">",", 'name': \\<name",">",", 'rse_id': \\<rse_id",">"," or 'rse': \\<rse_name",">","}"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"reason"),": The reason of the loss."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"force"),": boolean, tell the serrver to ignore existing replica status in the bad_replicas table. Default: False"))),(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,'  Dictionary {"rse_name": ','["did: error",...]',"} - list of strings for DIDs failed to declare, by RSE")))))),(0,a.kt)("h2",{id:"declare_bad_did_replicas"},"declare","_","bad","_","did","_","replicas"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"Declare a list of bad replicas."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rse"),": The RSE where the bad replicas reside"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"dids"),": The DIDs of the bad replicas"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"reason"),": The reason of the loss.")))))),(0,a.kt)("h2",{id:"declare_suspicious_file_replicas"},"declare","_","suspicious","_","file","_","replicas"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"Declare a list of bad replicas."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pfns"),": The list of PFNs."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"reason"),": The reason of the loss.")))))),(0,a.kt)("h2",{id:"get_did_from_pfns"},"get","_","did","_","from","_","pfns"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"Get the DIDs associated to a PFN on one given RSE"),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pfns"),": The list of PFNs."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rse"),": The RSE name."))),(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,"  A list of dictionaries {pfn: {'scope': scope, 'name': name}}")))))),(0,a.kt)("h2",{id:"list_replicas"},"list","_","replicas"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"List file replicas for a list of data identifiers (DIDs)."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"dids"),": The list of data identifiers (DIDs) like :\n","[{'scope': \\<scope1",">",", 'name': \\<name1",">","}, {'scope': \\<scope2",">",", 'name': \\<name2",">","}, ...]"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"schemes"),": A list of schemes to filter the replicas. (e.g. file, http, ...)"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"ignore_availability"),": Also include replicas from blocked RSEs into the list"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"metalink"),": ",(0,a.kt)("inlineCode",{parentName:"p"},"False")," (default) retrieves as JSON,\n",(0,a.kt)("inlineCode",{parentName:"p"},"True")," retrieves as metalink4+xml."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rse_expression"),": The RSE expression to restrict replicas on a set of RSEs."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"client_location"),": Client location dictionary for PFN modification {'ip', 'fqdn', 'site', 'latitude', 'longitude'}"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"sort"),": Sort the replicas: ",(0,a.kt)("inlineCode",{parentName:"p"},"geoip")," - based on src/dst IP topographical distance\n",(0,a.kt)("inlineCode",{parentName:"p"},"closeness")," - based on src/dst closeness\n",(0,a.kt)("inlineCode",{parentName:"p"},"dynamic")," - Rucio Dynamic Smart Sort (tm)"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"domain"),": Define the domain. None is fallback to 'wan', otherwise 'wan, 'lan', or 'all'"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"signature_lifetime"),": If supported, in seconds, restrict the lifetime of the signed PFN."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"nrandom"),": pick N random replicas. If the initial number of replicas is smaller than N, returns all replicas."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"resolve_archives"),": When set to True, find archives which contain the replicas."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"resolve_parents"),": When set to True, find all parent datasets which contain the replicas."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"updated_after"),": epoch timestamp or datetime object (UTC time), only return replicas updated after this time"))),(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,"  A list of dictionaries with replica information.")))))),(0,a.kt)("h2",{id:"list_suspicious_replicas"},"list","_","suspicious","_","replicas"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"List file replicas tagged as suspicious."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rse_expression"),": The RSE expression to restrict replicas on a set of RSEs."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"younger_than"),": Datetime object to select the replicas which were declared since younger_than date. Default value = 10 days ago."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"nattempts"),": The minimum number of replica appearances in the bad_replica DB table from younger_than date. Default value = 0."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"state"),": State of the replica, either 'BAD' or 'SUSPICIOUS'. No value returns replicas with either state.")))))),(0,a.kt)("h2",{id:"add_replica"},"add","_","replica"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"Add file replicas to a RSE."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rse"),": the RSE name."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"scope"),": The scope of the file."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"name"),": The name of the file."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"bytes_"),": The size in bytes."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"adler32"),": adler32 checksum."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pfn"),": PFN of the file for non deterministic RSE."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"md5"),": md5 checksum."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"meta"),": Metadata attributes."))),(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,"  True if files were created successfully.")))))),(0,a.kt)("h2",{id:"add_replicas"},"add","_","replicas"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"Bulk add file replicas to a RSE."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rse"),": the RSE name."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"files"),": The list of files. This is a list of DIDs like :\n","[{'scope': \\<scope1",">",", 'name': \\<name1",">","}, {'scope': \\<scope2",">",", 'name': \\<name2",">","}, ...]"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"ignore_availability"),": Ignore the RSE blocklsit."))),(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,"  True if files were created successfully.")))))),(0,a.kt)("h2",{id:"delete_replicas"},"delete","_","replicas"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"Bulk delete file replicas from a RSE."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rse"),": the RSE name."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"files"),": The list of files. This is a list of DIDs like :\n","[{'scope': \\<scope1",">",", 'name': \\<name1",">","}, {'scope': \\<scope2",">",", 'name': \\<name2",">","}, ...]"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"ignore_availability"),": Ignore the RSE blocklist."))),(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,"  True if files have been deleted successfully.")))))),(0,a.kt)("h2",{id:"update_replicas_states"},"update","_","replicas","_","states"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"Bulk update the file replicas states from a RSE."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rse"),": the RSE name."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"files"),": The list of files. This is a list of DIDs like :\n","[{'scope': \\<scope1",">",", 'name': \\<name1",">",", 'state': \\<state1",">","}, {'scope': \\<scope2",">",", 'name': \\<name2",">",", 'state': \\<state2",">","}, ...]",",\nwhere a state value can be either of:\n'A' (AVAILABLE)\n'U' (UNAVAILABLE)\n'C' (COPYING)\n'B' (BEING_DELETED)\n'D' (BAD)\n'T' (TEMPORARY_UNAVAILABLE)"))),(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,"  True if replica states have been updated successfully, otherwise an exception is raised.")))))),(0,a.kt)("h2",{id:"list_dataset_replicas"},"list","_","dataset","_","replicas"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"List dataset replicas for a did (scope:name)."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"scope"),": The scope of the dataset."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"name"),": The name of the dataset."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"deep"),": Lookup at the file level."))),(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,"  A list of dict dataset replicas.")))))),(0,a.kt)("h2",{id:"list_dataset_replicas_bulk"},"list","_","dataset","_","replicas","_","bulk"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"List dataset replicas for a did (scope:name)."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"dids"),": The list of DIDs of the datasets."))),(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,"  A list of dict dataset replicas.")))))),(0,a.kt)("h2",{id:"list_dataset_replicas_vp"},"list","_","dataset","_","replicas","_","vp"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"List dataset replicas for a DID (scope:name) using the"),(0,a.kt)("p",null,"Virtual Placement service."),(0,a.kt)("p",null,"NOTICE: This is an RnD function and might change or go away at any time."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"scope"),": The scope of the dataset."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"name"),": The name of the dataset."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"deep"),": Lookup at the file level."))),(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,"  If VP exists a list of dicts of sites")))))),(0,a.kt)("h2",{id:"list_datasets_per_rse"},"list","_","datasets","_","per","_","rse"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"List datasets at a RSE."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rse"),": the rse name."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"filters"),": dictionary of attributes by which the results should be filtered."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"limit"),": limit number."))),(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,"  A list of dict dataset replicas.")))))),(0,a.kt)("h2",{id:"add_bad_pfns"},"add","_","bad","_","pfns"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"Declare a list of bad replicas."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pfns"),": The list of PFNs."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"reason"),": The reason of the loss."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"state"),": The state of the replica. Either BAD, SUSPICIOUS, TEMPORARY_UNAVAILABLE"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"expires_at"),": Specify a timeout for the TEMPORARY_UNAVAILABLE replicas. None for BAD files."))),(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,"  True if PFNs were created successfully.")))))),(0,a.kt)("h2",{id:"set_tombstone"},"set","_","tombstone"),(0,a.kt)("span",{style:{"white-space":"pre"}},(0,a.kt)("p",null,"Set a tombstone on a list of replicas."),(0,a.kt)("table",{style:{border:"none"}},(0,a.kt)("tbody",null,(0,a.kt)("tr",{style:{border:"none"}},(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,a.kt)("td",{style:{border:"none",backgroundColor:"white",verticalAlign:"top"}},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"replicas"),": list of replicas.")))))))}b.isMDXComponent=!0}}]);